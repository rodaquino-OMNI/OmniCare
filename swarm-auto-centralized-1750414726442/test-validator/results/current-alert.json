{
  "type": "test_failure_alert",
  "timestamp": "2025-06-20T13:40:33.462Z",
  "testRunId": "test-run-1750426810732",
  "affectedAgents": [
    "security",
    "architect",
    "admin",
    "cds",
    "design",
    "clinical",
    "testing",
    "integration",
    "devops",
    "documentation",
    "orchestrator",
    "backend-dev",
    "frontend-lead",
    "workflow-engineer",
    "integration-lead",
    "database-engineer",
    "security-engineer",
    "devops-engineer",
    "fhir-specialist",
    "mobile-dev",
    "test-engineer",
    "commit-expert",
    "unknown",
    "change-analyzer",
    "auth-specialist",
    "ui-manager",
    "typescript",
    "quality",
    "validator",
    "config",
    "deps",
    "tester",
    "coordinator",
    "fixer",
    "git-analyst",
    "repo-scanner",
    "gitignore-auditor",
    "dependency-analyzer",
    "large-file-detective",
    "commit-strategist",
    "memory-validator",
    "test-manager",
    "validation-analyzer",
    "test-investigator",
    "debug-cleaner",
    "integration-tester",
    "qa-lead",
    "memory-cleaner",
    "swarm-fixer",
    "validation-fixer"
  ],
  "failedTests": [
    {
      "name": "test",
      "status": "failed",
      "error": "Command failed: npm run test\nPASS backend backend/tests/unit/utils/logger.test.ts\n  Logger\n    Custom logging methods\n      ✓ should log FHIR messages with context (10 ms)\n      ✓ should log FHIR messages without meta (1 ms)\n      ✓ should log security messages with context (1 ms)\n      ✓ should log performance messages with context (1 ms)\n      ✓ should log audit messages with context (1 ms)\n      ✓ should log integration messages with context (1 ms)\n    Standard logging methods\n      ✓ should support standard info logging\n      ✓ should support standard error logging (1 ms)\n      ✓ should support standard warning logging (3 ms)\n      ✓ should support standard debug logging (1 ms)\n    Logger configuration\n      ✓ should create logger with correct configuration (1 ms)\n      ✓ should configure transports correctly\n      ✓ should configure format correctly (1 ms)\n    Error handling\n      ✓ should handle complex error objects (1 ms)\n      ✓ should handle nested metadata objects\n    Context-specific logging scenarios\n      ✓ should log FHIR resource creation (1 ms)\n      ✓ should log security events\n      ✓ should log performance metrics (1 ms)\n      ✓ should log audit trail events (1 ms)\n      ✓ should log integration events (1 ms)\n\nFAIL frontend frontend/src/stores/__tests__/auth.test.ts\n  Auth Store\n    Initial State\n      ✓ should have correct initial state (26 ms)\n    Login\n      ✕ should handle successful login (25 ms)\n      ✓ should set loading state during login (8 ms)\n      ✓ should handle login failure (82 ms)\n      ✓ should handle network errors during login (13 ms)\n      ✕ should make correct API call for login (4 ms)\n    Logout\n      ✕ should clear all auth state on logout (17 ms)\n    Refresh Token\n      ✕ should refresh tokens successfully (4 ms)\n      ✓ should logout if no refresh token exists (5 ms)\n      ✕ should logout on refresh token failure (3 ms)\n      ✕ should make correct API call for refresh (2 ms)\n    User Update\n      ✓ should update user information (1 ms)\n      ✓ should not update user if no user exists (2 ms)\n    Permission Checks\n      ✓ should check individual permissions (1 ms)\n      ✓ should allow all permissions with wildcard (1 ms)\n    Role Checks\n      ✓ should check user role (2 ms)\n      ✓ should check if user has any of the specified roles (1 ms)\n      ✓ should return false for role checks when no user exists (2 ms)\n    Loading State\n      ✓ should set loading state (6 ms)\n  useAuth Hook\n    Role Helper Properties\n      ✕ should provide role helper properties for physician (3 ms)\n      ✕ should provide role helper properties for nurse (2 ms)\n      ✕ should provide role helper properties for admin (2 ms)\n    Permission Helper Properties\n      ✓ should provide permission helpers for physician (3 ms)\n      ✓ should provide permission helpers for nurse (2 ms)\n      ✕ should provide permission helpers for system admin (1 ms)\n      ✓ should provide permission helpers for lab tech (1 ms)\n    All Store Methods and Properties\n      ✓ should expose all store methods and properties (2 ms)\n\n  ● Auth Store › Login › should handle successful login\n\n    expect(received).toEqual(expected) // deep equality\n\n    - Expected  -  0\n    + Received  + 56\n\n    @@ -18,6 +18,62 @@\n          \"description\": \"View clinical notes, diagnoses, and treatment plans\",\n          \"id\": \"clinical:read\",\n          \"name\": \"Read Clinical Data\",\n          \"resource\": \"clinical\",\n        },\n    +   Object {\n    +     \"action\": \"write\",\n    +     \"description\": \"Create and update clinical documentation\",\n    +     \"id\": \"clinical:write\",\n    +     \"name\": \"Write Clinical Data\",\n    +     \"resource\": \"clinical\",\n    +   },\n    +   Object {\n    +     \"action\": \"read\",\n    +     \"description\": \"View medication lists and prescriptions\",\n    +     \"id\": \"medication:read\",\n    +     \"name\": \"Read Medications\",\n    +     \"resource\": \"medication\",\n    +   },\n    +   Object {\n    +     \"action\": \"prescribe\",\n    +     \"description\": \"Create and manage medication prescriptions\",\n    +     \"id\": \"medication:prescribe\",\n    +     \"name\": \"Prescribe Medications\",\n    +     \"resource\": \"medication\",\n    +   },\n    +   Object {\n    +     \"action\": \"read\",\n    +     \"description\": \"View medical orders and lab requests\",\n    +     \"id\": \"order:read\",\n    +     \"name\": \"Read Orders\",\n    +     \"resource\": \"order\",\n    +   },\n    +   Object {\n    +     \"action\": \"write\",\n    +     \"description\": \"Create and manage medical orders\",\n    +     \"id\": \"order:write\",\n    +     \"name\": \"Write Orders\",\n    +     \"resource\": \"order\",\n    +   },\n    +   Object {\n    +     \"action\": \"read\",\n    +     \"description\": \"View billing information and insurance details\",\n    +     \"id\": \"billing:read\",\n    +     \"name\": \"Read Billing Data\",\n    +     \"resource\": \"billing\",\n    +   },\n    +   Object {\n    +     \"action\": \"read\",\n    +     \"description\": \"View appointment schedules\",\n    +     \"id\": \"schedule:read\",\n    +     \"name\": \"Read Schedule\",\n    +     \"resource\": \"schedule\",\n    +   },\n    +   Object {\n    +     \"action\": \"write\",\n    +     \"description\": \"Create and manage appointments\",\n    +     \"id\": \"schedule:write\",\n    +     \"name\": \"Write Schedule\",\n    +     \"resource\": \"schedule\",\n    +   },\n      ]\n\n      100 |       expect(result.current.tokens?.accessToken).toBe(mockAuthResponse.tokens.accessToken);\n      101 |       expect(result.current.tokens?.refreshToken).toBe(mockAuthResponse.tokens.refreshToken);\n    > 102 |       expect(result.current.permissions).toEqual(mockAuthResponse.permissions);\n          |                                          ^\n      103 |       expect(result.current.isAuthenticated).toBe(true);\n      104 |       expect(result.current.isLoading).toBe(false);\n      105 |\n\n      at frontend/src/stores/__tests__/auth.test.ts:102:42\n      at step (frontend/src/stores/__tests__/auth.test.ts:33:23)\n      at Object.next (frontend/src/stores/__tests__/auth.test.ts:14:53)\n      at fulfilled (frontend/src/stores/__tests__/auth.test.ts:5:58)\n\n  ● Auth Store › Login › should make correct API call for login\n\n    expect(received).rejects.toThrow(expected)\n\n    Expected substring: \"Login failed\"\n    Received message:   \"response.json is not a function\"\n\n          73 |           });\n          74 |\n        > 75 |           const data = await response.json();\n             |                                       ^\n          76 |\n          77 |           if (!response.ok) {\n          78 |             throw new Error(data.message || 'Login failed');\n\n      at frontend/src/stores/auth.ts:75:39\n      at step (frontend/src/stores/auth.ts:44:23)\n      at Object.next (frontend/src/stores/auth.ts:25:53)\n      at fulfilled (frontend/src/stores/auth.ts:16:58)\n      at Object.toThrow (node_modules/expect/build/index.js:218:22)\n      at frontend/src/stores/__tests__/auth.test.ts:168:17\n      at step (frontend/src/stores/__tests__/auth.test.ts:33:23)\n      at Object.next (frontend/src/stores/__tests__/auth.test.ts:14:53)\n      at frontend/src/stores/__tests__/auth.test.ts:8:71\n      at Object.<anonymous>.__awaiter (frontend/src/stores/__tests__/auth.test.ts:4:12)\n      at Object.<anonymous> (frontend/src/stores/__tests__/auth.test.ts:153:39)\n\n  ● Auth Store › Logout › should clear all auth state on logout\n\n    expect(received).toBeNull()\n\n    Received: {\"id\": \"user-1\"}\n\n      242 |       });\n      243 |\n    > 244 |       expect(result.current.user).toBeNull();\n          |                                   ^\n      245 |       expect(result.current.token).toBeNull();\n      246 |       expect(result.current.refreshToken).toBeNull();\n      247 |       expect(result.current.permissions).toEqual([]);\n\n      at Object.<anonymous> (frontend/src/stores/__tests__/auth.test.ts:244:35)\n\n  ● Auth Store › Refresh Token › should refresh tokens successfully\n\n    expect(received).toEqual(expected) // deep equality\n\n    Expected: {\"email\": \"doctor@omnicare.com\", \"id\": \"user-1\", \"name\": \"Dr. Jane Smith\", \"practitionerId\": \"practitioner-1\", \"role\": \"physician\"}\n    Received: null\n\n      286 |       });\n      287 |\n    > 288 |       expect(result.current.user).toEqual(mockRefreshResponse.user);\n          |                                   ^\n      289 |       expect(result.current.token).toBe(mockRefreshResponse.token);\n      290 |       expect(result.current.refreshToken).toBe(mockRefreshResponse.refreshToken);\n      291 |       expect(result.current.permissions).toEqual(mockRefreshResponse.permissions);\n\n      at frontend/src/stores/__tests__/auth.test.ts:288:35\n      at step (frontend/src/stores/__tests__/auth.test.ts:33:23)\n      at Object.next (frontend/src/stores/__tests__/auth.test.ts:14:53)\n      at fulfilled (frontend/src/stores/__tests__/auth.test.ts:5:58)\n\n  ● Auth Store › Refresh Token › should logout on refresh token failure\n\n    expect(received).toBeNull()\n\n    Received: \"invalid-refresh-token\"\n\n      333 |       expect(result.current.user).toBeNull();\n      334 |       expect(result.current.token).toBeNull();\n    > 335 |       expect(result.current.refreshToken).toBeNull();\n          |                                           ^\n      336 |       expect(result.current.isAuthenticated).toBe(false);\n      337 |     });\n      338 |\n\n      at frontend/src/stores/__tests__/auth.test.ts:335:43\n      at step (frontend/src/stores/__tests__/auth.test.ts:33:23)\n      at Object.next (frontend/src/stores/__tests__/auth.test.ts:14:53)\n      at fulfilled (frontend/src/stores/__tests__/auth.test.ts:5:58)\n\n  ● Auth Store › Refresh Token › should make correct API call for refresh\n\n    expect(jest.fn()).toHaveBeenCalledWith(...expected)\n\n    Expected: \"/api/auth/refresh\", {\"body\": \"{\\\"refreshToken\\\":\\\"old-refresh-token\\\"}\", \"headers\": {\"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\n\n    Number of calls: 0\n\n      356 |       });\n      357 |\n    > 358 |       expect(fetch).toHaveBeenCalledWith('/api/auth/refresh', {\n          |                     ^\n      359 |         method: 'POST',\n      360 |         headers: {\n      361 |           'Content-Type': 'application/json',\n\n      at frontend/src/stores/__tests__/auth.test.ts:358:21\n      at step (frontend/src/stores/__tests__/auth.test.ts:33:23)\n      at Object.next (frontend/src/stores/__tests__/auth.test.ts:14:53)\n      at fulfilled (frontend/src/stores/__tests__/auth.test.ts:5:58)\n\n  ● useAuth Hook › Role Helper Properties › should provide role helper properties for physician\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: undefined\n\n      544 |       const { result } = renderHook(() => useAuth());\n      545 |\n    > 546 |       expect(result.current.isDoctor).toBe(true);\n          |                                       ^\n      547 |       expect(result.current.isNurse).toBe(false);\n      548 |       expect(result.current.isAdmin).toBe(false);\n      549 |       expect(result.current.isPharmacist).toBe(false);\n\n      at Object.<anonymous> (frontend/src/stores/__tests__/auth.test.ts:546:39)\n\n  ● useAuth Hook › Role Helper Properties › should provide role helper properties for nurse\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: undefined\n\n      566 |       const { result } = renderHook(() => useAuth());\n      567 |\n    > 568 |       expect(result.current.isDoctor).toBe(false);\n          |                                       ^\n      569 |       expect(result.current.isNurse).toBe(true);\n      570 |       expect(result.current.isAdmin).toBe(false);\n      571 |     });\n\n      at Object.<anonymous> (frontend/src/stores/__tests__/auth.test.ts:568:39)\n\n  ● useAuth Hook › Role Helper Properties › should provide role helper properties for admin\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: undefined\n\n      584 |\n      585 |       expect(result.current.isAdmin).toBe(true);\n    > 586 |       expect(result.current.isDoctor).toBe(false);\n          |                                       ^\n      587 |       expect(result.current.isNurse).toBe(false);\n      588 |     });\n      589 |   });\n\n      at Object.<anonymous> (frontend/src/stores/__tests__/auth.test.ts:586:39)\n\n  ● useAuth Hook › Permission Helper Properties › should provide permission helpers for system admin\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: false\n    Received: true\n\n      645 |\n      646 |       expect(result.current.canManageSystem).toBe(true);\n    > 647 |       expect(result.current.canViewPatients).toBe(false);\n          |                                              ^\n      648 |       expect(result.current.canCreateOrders).toBe(false);\n      649 |     });\n      650 |\n\n      at Object.<anonymous> (frontend/src/stores/__tests__/auth.test.ts:647:46)\n\nFAIL frontend frontend/src/components/patient/__tests__/PatientHeader.test.tsx\n  PatientHeader\n    Rendering - Full View\n      ✕ should render patient information in full view (496 ms)\n      ✕ should render with different gender colors (1 ms)\n      ✕ should render inactive patient status\n    Rendering - Compact View\n      ✕ should render patient information in compact view\n      ✕ should show high priority allergy badge in compact view (1 ms)\n    Actions\n      ✕ should render action buttons when showActions is true\n      ✕ should not render action buttons when showActions is false\n      ✕ should call onEdit when edit button is clicked (3 ms)\n      ✕ should call onPrint when print button is clicked (1 ms)\n      ✕ should handle menu interactions in full view\n      ✕ should handle menu interactions in compact view (7 ms)\n    Data Loading\n      ✕ should load allergies and conditions on mount (130 ms)\n      ✕ should filter active conditions only (104 ms)\n      ✕ should handle loading errors gracefully (61 ms)\n      ✕ should not load data if patient has no ID\n    Allergies and Conditions Display\n      ✕ should show high priority allergy alert (61 ms)\n      ✕ should not show allergy alert for low priority allergies only (41 ms)\n      ✕ should show active conditions (32 ms)\n      ✕ should limit displayed allergies and conditions with \"more\" indicator (57 ms)\n      ✕ should handle allergies and conditions without display text (59 ms)\n    Contact Information\n      ✕ should handle missing contact information gracefully (51 ms)\n      ✕ should handle partial contact information (39 ms)\n      ✕ should handle address without city information (54 ms)\n    Helper Function Calls\n      ✕ should call all helper functions with correct parameters (37 ms)\n      ✕ should call formatDate with birth date (37 ms)\n      ✕ should handle patient without birth date (1 ms)\n    Accessibility\n      ✕ should have accessible tooltips\n      ✕ should have proper ARIA labels for interactive elements\n      ✕ should have proper color contrast for status badges (30 ms)\n\n  ● PatientHeader › Rendering - Full View › should render patient information in full view\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:208:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:207:58)\n\n  ● PatientHeader › Rendering - Full View › should render with different gender colors\n\n    ReferenceError: render is not defined\n\n      236 |     it('should render with different gender colors', () => {\n      237 |       const femalePatient = { ...mockPatient, gender: 'female' };\n    > 238 |       const { rerender } = render(<PatientHeader patient={femalePatient} />);\n          |                            ^\n      239 |\n      240 |       let genderBadge = screen.getByText('FEMALE');\n      241 |       expect(genderBadge).toBeInTheDocument();\n\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:238:28)\n\n  ● PatientHeader › Rendering - Full View › should render inactive patient status\n\n    ReferenceError: render is not defined\n\n      250 |     it('should render inactive patient status', () => {\n      251 |       const inactivePatient = { ...mockPatient, active: false };\n    > 252 |       render(<PatientHeader patient={inactivePatient} />);\n          |       ^\n      253 |\n      254 |       expect(screen.getByText('INACTIVE')).toBeInTheDocument();\n      255 |     });\n\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:252:7)\n\n  ● PatientHeader › Rendering - Compact View › should render patient information in compact view\n\n    ReferenceError: render is not defined\n\n      258 |   describe('Rendering - Compact View', () => {\n      259 |     it('should render patient information in compact view', async () => {\n    > 260 |       render(<PatientHeader patient={mockPatient} compact />);\n          |       ^\n      261 |\n      262 |       // Check patient name and basic info\n      263 |       expect(screen.getByText('John Doe')).toBeInTheDocument();\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:260:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:259:61)\n\n  ● PatientHeader › Rendering - Compact View › should show high priority allergy badge in compact view\n\n    ReferenceError: render is not defined\n\n      279 |\n      280 |     it('should show high priority allergy badge in compact view', async () => {\n    > 281 |       render(<PatientHeader patient={mockPatient} compact />);\n          |       ^\n      282 |\n      283 |       await waitFor(() => {\n      284 |         const tooltip = screen.getByLabelText('High Priority Allergies');\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:281:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:280:67)\n\n  ● PatientHeader › Actions › should render action buttons when showActions is true\n\n    ReferenceError: render is not defined\n\n      294 |       const onShare = jest.fn();\n      295 |\n    > 296 |       render(\n          |       ^\n      297 |         <PatientHeader\n      298 |           patient={mockPatient}\n      299 |           onEdit={onEdit}\n\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:296:7)\n\n  ● PatientHeader › Actions › should not render action buttons when showActions is false\n\n    ReferenceError: render is not defined\n\n      309 |\n      310 |     it('should not render action buttons when showActions is false', () => {\n    > 311 |       render(<PatientHeader patient={mockPatient} showActions={false} />);\n          |       ^\n      312 |\n      313 |       expect(screen.queryByRole('button', { name: /edit/i })).not.toBeInTheDocument();\n      314 |       expect(screen.queryByRole('button', { name: /print/i })).not.toBeInTheDocument();\n\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:311:7)\n\n  ● PatientHeader › Actions › should call onEdit when edit button is clicked\n\n    ReferenceError: render is not defined\n\n      319 |       const onEdit = jest.fn();\n      320 |\n    > 321 |       render(<PatientHeader patient={mockPatient} onEdit={onEdit} />);\n          |       ^\n      322 |\n      323 |       const editButton = screen.getByRole('button', { name: /edit/i });\n      324 |       await user.click(editButton);\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:321:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:317:58)\n\n  ● PatientHeader › Actions › should call onPrint when print button is clicked\n\n    ReferenceError: render is not defined\n\n      331 |       const onPrint = jest.fn();\n      332 |\n    > 333 |       render(<PatientHeader patient={mockPatient} onPrint={onPrint} />);\n          |       ^\n      334 |\n      335 |       const printButton = screen.getByRole('button', { name: /print/i });\n      336 |       await user.click(printButton);\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:333:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:329:60)\n\n  ● PatientHeader › Actions › should handle menu interactions in full view\n\n    ReferenceError: render is not defined\n\n      343 |       const onShare = jest.fn();\n      344 |\n    > 345 |       render(<PatientHeader patient={mockPatient} onShare={onShare} />);\n          |       ^\n      346 |\n      347 |       // Click menu trigger\n      348 |       const menuButton = screen.getByRole('button', { name: '' }); // IconMoreHorizontal button\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:345:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:341:56)\n\n  ● PatientHeader › Actions › should handle menu interactions in compact view\n\n    ReferenceError: render is not defined\n\n      365 |       const onShare = jest.fn();\n      366 |\n    > 367 |       render(\n          |       ^\n      368 |         <PatientHeader\n      369 |           patient={mockPatient}\n      370 |           onEdit={onEdit}\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:367:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:361:59)\n\n  ● PatientHeader › Data Loading › should load allergies and conditions on mount\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:394:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:393:57)\n\n  ● PatientHeader › Data Loading › should filter active conditions only\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:403:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:402:48)\n\n  ● PatientHeader › Data Loading › should handle loading errors gracefully\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:417:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:411:51)\n\n  ● PatientHeader › Data Loading › should not load data if patient has no ID\n\n    ReferenceError: render is not defined\n\n      429 |     it('should not load data if patient has no ID', async () => {\n      430 |       const patientWithoutId = { ...mockPatient, id: undefined };\n    > 431 |       render(<PatientHeader patient={patientWithoutId} />);\n          |       ^\n      432 |\n      433 |       // Wait a bit to ensure no API calls are made\n      434 |       await new Promise(resolve => setTimeout(resolve, 100));\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:431:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:429:53)\n\n  ● PatientHeader › Allergies and Conditions Display › should show high priority allergy alert\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:443:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:442:51)\n\n  ● PatientHeader › Allergies and Conditions Display › should not show allergy alert for low priority allergies only\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:455:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:451:73)\n\n  ● PatientHeader › Allergies and Conditions Display › should show active conditions\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:463:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:462:41)\n\n  ● PatientHeader › Allergies and Conditions Display › should limit displayed allergies and conditions with \"more\" indicator\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:488:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:471:81)\n\n  ● PatientHeader › Allergies and Conditions Display › should handle allergies and conditions without display text\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:528:26\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:498:71)\n\n  ● PatientHeader › Contact Information › should handle missing contact information gracefully\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:545:26)\n\n  ● PatientHeader › Contact Information › should handle partial contact information\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:559:26)\n\n  ● PatientHeader › Contact Information › should handle address without city information\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:579:26)\n\n  ● PatientHeader › Helper Function Calls › should call all helper functions with correct parameters\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:588:26)\n\n  ● PatientHeader › Helper Function Calls › should call formatDate with birth date\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:597:26)\n\n  ● PatientHeader › Helper Function Calls › should handle patient without birth date\n\n    ReferenceError: render is not defined\n\n      602 |     it('should handle patient without birth date', () => {\n      603 |       const patientWithoutBirthDate = { ...mockPatient, birthDate: undefined };\n    > 604 |       render(<PatientHeader patient={patientWithoutBirthDate} />);\n          |       ^\n      605 |\n      606 |       expect(screen.queryByText(/DOB:/)).not.toBeInTheDocument();\n      607 |     });\n\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:604:7)\n\n  ● PatientHeader › Accessibility › should have accessible tooltips\n\n    ReferenceError: render is not defined\n\n      610 |   describe('Accessibility', () => {\n      611 |     it('should have accessible tooltips', async () => {\n    > 612 |       render(<PatientHeader patient={mockPatient} compact />);\n          |       ^\n      613 |\n      614 |       await waitFor(() => {\n      615 |         const tooltip = screen.getByLabelText('High Priority Allergies');\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:612:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:611:43)\n\n  ● PatientHeader › Accessibility › should have proper ARIA labels for interactive elements\n\n    ReferenceError: render is not defined\n\n      620 |     it('should have proper ARIA labels for interactive elements', async () => {\n      621 |       const onEdit = jest.fn();\n    > 622 |       render(<PatientHeader patient={mockPatient} onEdit={onEdit} />);\n          |       ^\n      623 |\n      624 |       const editButton = screen.getByRole('button', { name: /edit/i });\n      625 |       expect(editButton).toBeInTheDocument();\n\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:622:7\n      at step (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:44:23)\n      at Object.next (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:25:53)\n      at frontend/src/components/patient/__tests__/PatientHeader.test.tsx:19:71\n      at Object.<anonymous>.__awaiter (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:15:12)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:620:67)\n\n  ● PatientHeader › Accessibility › should have proper color contrast for status badges\n\n    Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: undefined. You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\n\n    Check the render method of `PatientHeader`.\n\n      280 |   };\n      281 |\n    > 282 |   return render(ui, { wrapper: AllTheProviders, ...options });\n          |          ^\n      283 | };\n      284 |\n      285 | // Override the default render method\n\n      at createFiberFromTypeAndProps (frontend/node_modules/react-dom/cjs/react-dom.development.js:28478:17)\n      at createFiberFromElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:28504:15)\n      at reconcileSingleElement (frontend/node_modules/react-dom/cjs/react-dom.development.js:13986:23)\n      at reconcileChildFibers (frontend/node_modules/react-dom/cjs/react-dom.development.js:14044:35)\n      at reconcileChildren (frontend/node_modules/react-dom/cjs/react-dom.development.js:19186:28)\n      at updateHostComponent (frontend/node_modules/react-dom/cjs/react-dom.development.js:19953:3)\n      at beginWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:21657:14)\n      at beginWork$1 (frontend/node_modules/react-dom/cjs/react-dom.development.js:27465:14)\n      at performUnitOfWork (frontend/node_modules/react-dom/cjs/react-dom.development.js:26599:12)\n      at workLoopSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26505:5)\n      at renderRootSync (frontend/node_modules/react-dom/cjs/react-dom.development.js:26473:7)\n      at recoverFromConcurrentError (frontend/node_modules/react-dom/cjs/react-dom.development.js:25889:20)\n      at performConcurrentWorkOnRoot (frontend/node_modules/react-dom/cjs/react-dom.development.js:25789:22)\n      at flushActQueue (frontend/node_modules/react/cjs/react.development.js:2667:24)\n      at act (frontend/node_modules/react/cjs/react.development.js:2582:11)\n      at frontend/node_modules/@testing-library/react/dist/act-compat.js:47:25\n      at renderRoot (frontend/node_modules/@testing-library/react/dist/pure.js:180:26)\n      at render (frontend/node_modules/@testing-library/react/dist/pure.js:271:10)\n      at renderWithProviders (frontend/jest.setup.js:282:10)\n      at Object.<anonymous> (frontend/src/components/patient/__tests__/PatientHeader.test.tsx:629:26)\n\nFAIL frontend frontend/src/components/clinical/__tests__/ClinicalNoteInput.test.tsx\n  ● Test suite failed to run\n\n    Cannot find module 'axios' from 'frontend/src/services/fhir.service.ts'\n\n    > 1 | import axios, { AxiosResponse, AxiosError } from 'axios';\n        | ^\n      2 | import {\n      3 |   Patient,\n      4 |   Practitioner,\n\n      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)\n      at Object.<anonymous> (frontend/src/services/fhir.service.ts:1:1)\n      at Object.<anonymous> (frontend/src/components/clinical/__tests__/ClinicalNoteInput.test.tsx:7:1)\n\nFAIL backend backend/tests/unit/services/fhir-resources.service.test.ts\n  ● Test suite failed to run\n\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m102\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m102\u001b[0m           ...global.createMockPatient(),\n    \u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m113\u001b[0m:\u001b[93m52\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ name: { given: string[]; family: string; }[]; gender: \"female\"; birthDate: string; telecom: { system: string; value: string; use: string; }[]; address: { use: string; line: string[]; city: string; state: string; postalCode: string; country: string; }[]; omnicarePatientId: string; registrationDate: string; preferre...' is not assignable to parameter of type 'Partial<OmniCarePatient>'.\n      Types of property 'telecom' are incompatible.\n        Type '{ system: string; value: string; use: string; }[]' is not assignable to type 'ContactPoint[]'.\n          Type '{ system: string; value: string; use: string; }' is not assignable to type 'ContactPoint'.\n            Types of property 'system' are incompatible.\n              Type 'string' is not assignable to type '\"other\" | \"phone\" | \"email\" | \"fax\" | \"pager\" | \"url\" | \"sms\" | undefined'.\n\n    \u001b[7m113\u001b[0m         const result = await service.createPatient(patientData);\n    \u001b[7m   \u001b[0m \u001b[91m                                                   ~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m160\u001b[0m:\u001b[93m40\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m160\u001b[0m         const expectedPatient = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                       ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m191\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m191\u001b[0m               resource: global.createMockPatient(),\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m196\u001b[0m:\u001b[93m62\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to parameter of type 'Bundle<Resource> | Promise<Bundle<Resource>>'.\n      Type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to type 'Bundle<Resource>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m196\u001b[0m         mockMedplumService.searchResources.mockResolvedValue(searchResults);\n    \u001b[7m   \u001b[0m \u001b[91m                                                             ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m62\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: never[]; }' is not assignable to parameter of type 'Bundle<Resource> | Promise<Bundle<Resource>>'.\n      Type '{ resourceType: string; type: string; total: number; entry: never[]; }' is not assignable to type 'Bundle<Resource>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m217\u001b[0m         mockMedplumService.searchResources.mockResolvedValue(searchResults);\n    \u001b[7m   \u001b[0m \u001b[91m                                                             ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m232\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m232\u001b[0m           ...global.createMockPatient(),\n    \u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m263\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m263\u001b[0m           ...global.createMockPractitioner(),\n    \u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m309\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m309\u001b[0m               resource: global.createMockPractitioner(),\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m314\u001b[0m:\u001b[93m62\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to parameter of type 'Bundle<Resource> | Promise<Bundle<Resource>>'.\n      Type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to type 'Bundle<Resource>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m314\u001b[0m         mockMedplumService.searchResources.mockResolvedValue(searchResults);\n    \u001b[7m   \u001b[0m \u001b[91m                                                             ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m340\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m340\u001b[0m           ...global.createMockEncounter(),\n    \u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m374\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m374\u001b[0m           ...global.createMockEncounter(),\n    \u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m419\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m419\u001b[0m               resource: global.createMockEncounter(),\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m424\u001b[0m:\u001b[93m62\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to parameter of type 'Bundle<Resource> | Promise<Bundle<Resource>>'.\n      Type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to type 'Bundle<Resource>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m424\u001b[0m         mockMedplumService.searchResources.mockResolvedValue(searchResults);\n    \u001b[7m   \u001b[0m \u001b[91m                                                             ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m558\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m558\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m577\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m577\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m630\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m630\u001b[0m             { resource: global.createMockPatient() },\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m631\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m631\u001b[0m             { resource: global.createMockEncounter() },\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/fhir-resources.service.test.ts\u001b[0m:\u001b[93m636\u001b[0m:\u001b[93m62\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to parameter of type 'Bundle<Resource> | Promise<Bundle<Resource>>'.\n      Type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to type 'Bundle<Resource>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m636\u001b[0m         mockMedplumService.searchResources.mockResolvedValue(patientEverything);\n    \u001b[7m   \u001b[0m \u001b[91m                                                             ~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL backend backend/tests/unit/services/medplum.service.test.ts\n  ● Test suite failed to run\n\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m50\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m50\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m  \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m51\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m51\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m  \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m68\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m68\u001b[0m       expect(mockMedplumClient.setActiveProject).toHaveBeenCalledWith(config.medplum.projectId);\n    \u001b[7m  \u001b[0m \u001b[91m                               ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m77\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m77\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m  \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m133\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m133\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m134\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m134\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m141\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m141\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m156\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m156\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m169\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m169\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m194\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m194\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m226\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m226\u001b[0m         const resource = { ...global.createMockPatient(), id: 'test-patient-1' };\n    \u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m241\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m241\u001b[0m         const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m251\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m251\u001b[0m         const resource = { ...global.createMockPatient(), id: 'test-patient-1' };\n    \u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m299\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m299\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m300\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m300\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m312\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m312\u001b[0m         entry: [{ resource: global.createMockPatient() }],\n    \u001b[7m   \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m315\u001b[0m:\u001b[93m50\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to parameter of type 'Bundle<WithId<ExtractResource<\"AccessPolicy\" | \"Account\" | \"ActivityDefinition\" | \"AdverseEvent\" | \"Agent\" | \"AllergyIntolerance\" | \"Appointment\" | \"AppointmentResponse\" | \"AsyncJob\" | \"AuditEvent\" | ... 152 more ... | \"VisionPrescription\">>> | ReadablePromise<...>'.\n      Type '{ resourceType: string; type: string; total: number; entry: { resource: any; }[]; }' is not assignable to type 'Bundle<WithId<ExtractResource<\"AccessPolicy\" | \"Account\" | \"ActivityDefinition\" | \"AdverseEvent\" | \"Agent\" | \"AllergyIntolerance\" | \"Appointment\" | \"AppointmentResponse\" | \"AsyncJob\" | \"AuditEvent\" | ... 152 more ... | \"VisionPrescription\">>>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m315\u001b[0m       mockMedplumClient.search.mockResolvedValue(searchResults);\n    \u001b[7m   \u001b[0m \u001b[91m                                                 ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m356\u001b[0m:\u001b[93m50\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; total: number; entry: never[]; }' is not assignable to parameter of type 'Bundle<WithId<ExtractResource<\"AccessPolicy\" | \"Account\" | \"ActivityDefinition\" | \"AdverseEvent\" | \"Agent\" | \"AllergyIntolerance\" | \"Appointment\" | \"AppointmentResponse\" | \"AsyncJob\" | \"AuditEvent\" | ... 152 more ... | \"VisionPrescription\">>> | ReadablePromise<...>'.\n      Type '{ resourceType: string; type: string; total: number; entry: never[]; }' is not assignable to type 'Bundle<WithId<ExtractResource<\"AccessPolicy\" | \"Account\" | \"ActivityDefinition\" | \"AdverseEvent\" | \"Agent\" | \"AllergyIntolerance\" | \"Appointment\" | \"AppointmentResponse\" | \"AsyncJob\" | \"AuditEvent\" | ... 152 more ... | \"VisionPrescription\">>>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m356\u001b[0m       mockMedplumClient.search.mockResolvedValue(searchResults);\n    \u001b[7m   \u001b[0m \u001b[91m                                                 ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m396\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m396\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m397\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m397\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m406\u001b[0m:\u001b[93m18\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m406\u001b[0m           global.createMockPatient(),\n    \u001b[7m   \u001b[0m \u001b[91m                 ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m407\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m407\u001b[0m           { ...global.createMockPatient(), id: 'existing-patient-1' },\n    \u001b[7m   \u001b[0m \u001b[91m                      ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m421\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; type: string; entry: { response: { status: string; location: string; }; }[]; }' is not assignable to parameter of type 'Bundle<Resource> | Promise<Bundle<Resource>>'.\n      Type '{ resourceType: string; type: string; entry: { response: { status: string; location: string; }; }[]; }' is not assignable to type 'Bundle<Resource>'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"Bundle\"'.\n\n    \u001b[7m421\u001b[0m       mockMedplumClient.executeBatch.mockResolvedValue(batchResponse);\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m423\u001b[0m:\u001b[93m49\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ type: \"batch\"; resources: any[]; timestamp: string; }' is not assignable to parameter of type 'BundleRequest'.\n      Property 'resourceType' is missing in type '{ type: \"batch\"; resources: any[]; timestamp: string; }' but required in type 'BundleRequest'.\n\n    \u001b[7m423\u001b[0m       const result = await service.executeBatch(bundleRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                ~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96mbackend/src/types/fhir.ts\u001b[0m:\u001b[93m122\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m122\u001b[0m   resourceType: string;\n        \u001b[7m   \u001b[0m \u001b[96m  ~~~~~~~~~~~~\u001b[0m\n        'resourceType' is declared here.\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m447\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m447\u001b[0m         resources: [global.createMockPatient()],\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m453\u001b[0m:\u001b[93m41\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ type: \"batch\"; resources: any[]; }' is not assignable to parameter of type 'BundleRequest'.\n      Property 'resourceType' is missing in type '{ type: \"batch\"; resources: any[]; }' but required in type 'BundleRequest'.\n\n    \u001b[7m453\u001b[0m       await expect(service.executeBatch(bundleRequest)).rejects.toThrow(\n    \u001b[7m   \u001b[0m \u001b[91m                                        ~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96mbackend/src/types/fhir.ts\u001b[0m:\u001b[93m122\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m122\u001b[0m   resourceType: string;\n        \u001b[7m   \u001b[0m \u001b[96m  ~~~~~~~~~~~~\u001b[0m\n        'resourceType' is declared here.\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m462\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m462\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m463\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m463\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m497\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m497\u001b[0m       const resource = global.createMockPatient();\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m503\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; issue: never[]; }' is not assignable to parameter of type 'OperationOutcome | Promise<OperationOutcome>'.\n      Type '{ resourceType: string; issue: never[]; }' is not assignable to type 'OperationOutcome'.\n        Types of property 'resourceType' are incompatible.\n          Type 'string' is not assignable to type '\"OperationOutcome\"'.\n\n    \u001b[7m503\u001b[0m       mockMedplumClient.validateResource.mockResolvedValue(validationResult);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m524\u001b[0m:\u001b[93m58\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ resourceType: string; id: string; status: string; criteria: string; channel: { type: string; endpoint: string; }; }' is not assignable to parameter of type 'WithId<Resource> | Promise<WithId<Resource>>'.\n      Type '{ resourceType: string; id: string; status: string; criteria: string; channel: { type: string; endpoint: string; }; }' is not assignable to type 'Subscription & { id: string; }'.\n        Property 'reason' is missing in type '{ resourceType: string; id: string; status: string; criteria: string; channel: { type: string; endpoint: string; }; }' but required in type 'Subscription'.\n\n    \u001b[7m524\u001b[0m       mockMedplumClient.createResource.mockResolvedValue(subscription);\n    \u001b[7m   \u001b[0m \u001b[91m                                                         ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96mbackend/node_modules/@medplum/fhirtypes/dist/Subscription.d.ts\u001b[0m:\u001b[93m118\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m118\u001b[0m   reason: string;\n        \u001b[7m   \u001b[0m \u001b[96m  ~~~~~~\u001b[0m\n        'reason' is declared here.\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m554\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m554\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m555\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m555\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m572\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m572\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m573\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m573\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m594\u001b[0m:\u001b[93m50\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m594\u001b[0m       await expect(service.createResource(global.createMockPatient())).rejects.toThrow(\n    \u001b[7m   \u001b[0m \u001b[91m                                                 ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m600\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m600\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m601\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m601\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m622\u001b[0m:\u001b[93m50\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m622\u001b[0m       await expect(service.createResource(global.createMockPatient())).rejects.toThrow(\n    \u001b[7m   \u001b[0m \u001b[91m                                                 ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m628\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m628\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m629\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m629\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m635\u001b[0m:\u001b[93m50\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m635\u001b[0m       await expect(service.createResource(global.createMockPatient())).rejects.toThrow(\n    \u001b[7m   \u001b[0m \u001b[91m                                                 ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m643\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'undefined' is not assignable to parameter of type 'ProfileResource | Promise<ProfileResource>'.\n\n    \u001b[7m643\u001b[0m       mockMedplumClient.startClientLogin.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m644\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'setActiveProject' does not exist on type 'Mocked<MedplumClient>'.\n\n    \u001b[7m644\u001b[0m       mockMedplumClient.setActiveProject.mockResolvedValue(undefined);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/unit/services/medplum.service.test.ts\u001b[0m:\u001b[93m653\u001b[0m:\u001b[93m50\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS7017: \u001b[0mElement implicitly has an 'any' type because type 'typeof globalThis' has no index signature.\n\n    \u001b[7m653\u001b[0m       await expect(service.createResource(global.createMockPatient())).rejects.toThrow(\n    \u001b[7m   \u001b[0m \u001b[91m                                                 ~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL backend backend/tests/setup.ts\n  ● Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)\n      at node_modules/@jest/core/build/TestScheduler.js:254:19\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n\nFAIL backend backend/tests/security/auth-security.test.ts\n  ● Test suite failed to run\n\n    \u001b[96mbackend/tests/security/auth-security.test.ts\u001b[0m:\u001b[93m242\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | { toString: () => string; }'.\n      Type 'undefined' is not assignable to type 'string | { toString: () => string; }'.\n\n    \u001b[7m242\u001b[0m       const redirectUrl = new URL(authResponse.headers.location);\n    \u001b[7m   \u001b[0m \u001b[91m                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nFAIL backend backend/tests/integration/auth.controller.integration.test.ts\n  ● Test suite failed to run\n\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m42\u001b[0m:\u001b[93m46\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'refreshInternalToken' does not exist on type 'AuthController'.\n\n    \u001b[7m42\u001b[0m     app.post('/auth/refresh', authController.refreshInternalToken.bind(authController));\n    \u001b[7m  \u001b[0m \u001b[91m                                             ~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m52\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'aud' does not exist in type '{ authorizationUrl: string; state: string; } | Promise<{ authorizationUrl: string; state: string; }>'.\n\n    \u001b[7m52\u001b[0m           aud: 'https://test-fhir.omnicare.com',\n    \u001b[7m  \u001b[0m \u001b[91m          ~~~\u001b[0m\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m91\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'aud' does not exist in type '{ authorizationUrl: string; state: string; } | Promise<{ authorizationUrl: string; state: string; }>'.\n\n    \u001b[7m91\u001b[0m           aud: 'https://test-fhir.omnicare.com',\n    \u001b[7m  \u001b[0m \u001b[91m          ~~~\u001b[0m\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m206\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'aud' does not exist in type '{ authorizationUrl: string; state: string; } | Promise<{ authorizationUrl: string; state: string; }>'.\n\n    \u001b[7m206\u001b[0m           aud: 'https://test-fhir.omnicare.com',\n    \u001b[7m   \u001b[0m \u001b[91m          ~~~\u001b[0m\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m219\u001b[0m:\u001b[93m37\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | { toString: () => string; }'.\n      Type 'undefined' is not assignable to type 'string | { toString: () => string; }'.\n\n    \u001b[7m219\u001b[0m         const redirectUrl = new URL(authResponse.headers.location);\n    \u001b[7m   \u001b[0m \u001b[91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m375\u001b[0m:\u001b[93m11\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'aud' does not exist in type '{ authorizationUrl: string; state: string; } | Promise<{ authorizationUrl: string; state: string; }>'.\n\n    \u001b[7m375\u001b[0m           aud: 'https://test-fhir.omnicare.com',\n    \u001b[7m   \u001b[0m \u001b[91m          ~~~\u001b[0m\n    \u001b[96mbackend/tests/integration/auth.controller.integration.test.ts\u001b[0m:\u001b[93m386\u001b[0m:\u001b[93m37\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string | undefined' is not assignable to parameter of type 'string | { toString: () => string; }'.\n      Type 'undefined' is not assignable to type 'string | { toString: () => string; }'.\n\n    \u001b[7m386\u001b[0m         const redirectUrl = new URL(authResponse.headers.location);\n    \u001b[7m   \u001b[0m \u001b[91m                                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nPASS frontend frontend/src/components/auth/__tests__/LoginForm.test.tsx (11.862 s)\n  LoginForm\n    Rendering\n      ✓ should render login form with all necessary elements (443 ms)\n      ✓ should show loading overlay when isLoading is true (155 ms)\n      ✓ should not show error alert initially (54 ms)\n    Form Validation\n      ✓ should have form validation setup (118 ms)\n      ✓ should handle invalid email input (386 ms)\n      ✓ should handle short password input (250 ms)\n      ✓ should not show validation errors for valid inputs (651 ms)\n    Form Submission\n      ✓ should call login function with correct credentials on form submission (1387 ms)\n      ✓ should redirect to dashboard on successful login (1289 ms)\n      ✓ should show success notification on successful login (880 ms)\n      ✓ should show error alert and notification on login failure (511 ms)\n      ✓ should handle non-Error objects in catch block (525 ms)\n      ✓ should clear error state on new submission attempt (898 ms)\n    Demo Account Buttons\n      ✓ should fill form with doctor credentials when Doctor button is clicked (41 ms)\n      ✓ should fill form with nurse credentials when Nurse button is clicked (36 ms)\n      ✓ should fill form with admin credentials when Admin button is clicked (34 ms)\n      ✓ should disable demo buttons when loading (25 ms)\n    Form Interactions\n      ✓ should handle remember me checkbox (57 ms)\n      ✓ should disable form elements when loading (22 ms)\n      ✓ should submit form when Enter is pressed in password field (508 ms)\n    Accessibility\n      ✓ should have proper form labels and accessibility attributes (19 ms)\n      ✓ should have proper heading structure (15 ms)\n      ✓ should have accessible links (17 ms)\n    Error Handling\n      ✓ should handle network errors gracefully (466 ms)\n      ✓ should clear error when user starts typing (504 ms)\n\nTest Suites: 8 failed, 2 passed, 10 total\nTests:       39 failed, 62 passed, 101 total\nSnapshots:   0 total\nTime:        13.244 s\nRan all test suites in 2 projects.\n",
      "command": "npm run test"
    },
    {
      "name": "lint",
      "status": "failed",
      "error": "Command failed: npm run lint\n",
      "command": "npm run lint"
    },
    {
      "name": "typecheck",
      "status": "failed",
      "error": "Command failed: npm run typecheck\n",
      "command": "npm run typecheck"
    }
  ],
  "summary": {
    "total": 3,
    "passed": 0,
    "failed": 3,
    "errors": 0
  },
  "message": "Test validation failed for commits from agents: security, architect, admin, cds, design, clinical, testing, integration, devops, documentation, orchestrator, backend-dev, frontend-lead, workflow-engineer, integration-lead, database-engineer, security-engineer, devops-engineer, fhir-specialist, mobile-dev, test-engineer, commit-expert, unknown, change-analyzer, auth-specialist, ui-manager, typescript, quality, validator, config, deps, tester, coordinator, fixer, git-analyst, repo-scanner, gitignore-auditor, dependency-analyzer, large-file-detective, commit-strategist, memory-validator, test-manager, validation-analyzer, test-investigator, debug-cleaner, integration-tester, qa-lead, memory-cleaner, swarm-fixer, validation-fixer. 3 test(s) failed.",
  "actionRequired": "Please review and fix the failing tests before proceeding with development.",
  "resultsPath": "/Users/rodrigo/claude-projects/OmniCare/swarm-auto-centralized-1750414726442/test-validator/results/test-run-1750426810732.json"
}