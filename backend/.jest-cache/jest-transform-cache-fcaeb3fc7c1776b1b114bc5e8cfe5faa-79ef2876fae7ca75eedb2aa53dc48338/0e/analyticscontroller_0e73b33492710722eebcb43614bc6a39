37c957c68b7932fe3127b14040942608
"use strict";
/**
 * Analytics Controller
 *
 * Express-based controller for analytics and reporting endpoints
 */
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.analyticsController = exports.AnalyticsController = void 0;
const logger_1 = __importDefault(require("../utils/logger"));
/**
 * Analytics Controller
 * Handles analytics and reporting endpoints for OmniCare EMR
 */
class AnalyticsController {
    constructor() {
        // Initialize any dependencies here
    }
    // Clinical Quality Measures Endpoint
    getClinicalQualityMeasures(req, res) {
        try {
            const { facilityId } = req.params;
            const { startDate, endDate } = req.query;
            // Mock implementation for build compatibility
            const mockData = {
                facilityId,
                measures: [],
                period: { startDate, endDate },
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching clinical quality measures:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch clinical quality measures'
            });
        }
    }
    // Financial Analytics Endpoint
    async getFinancialAnalytics(req, res) {
        try {
            const { facilityId } = req.params;
            const { startDate, endDate } = req.query;
            // Mock implementation for build compatibility
            const mockData = {
                facilityId,
                revenue: 0,
                expenses: 0,
                period: { startDate, endDate },
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching financial analytics:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch financial analytics'
            });
        }
    }
    // Operational Metrics Endpoint
    async getOperationalMetrics(req, res) {
        try {
            const { facilityId } = req.params;
            // Mock implementation for build compatibility
            const mockData = {
                facilityId,
                patientFlow: {},
                staffUtilization: {},
                appointments: {},
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching operational metrics:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch operational metrics'
            });
        }
    }
    // Population Health Analytics Endpoint
    async getPopulationHealthAnalytics(req, res) {
        try {
            const { facilityId } = req.params;
            const { startDate, endDate } = req.query;
            // Mock implementation for build compatibility
            const mockData = {
                facilityId,
                populationMetrics: {},
                riskStratification: {},
                period: { startDate, endDate },
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching population health analytics:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch population health analytics'
            });
        }
    }
    // Reports Endpoint
    async getReports(req, res) {
        try {
            const { facilityId, type, status } = req.query;
            // Mock implementation for build compatibility
            const mockData = {
                reports: [],
                filters: { facilityId, type, status },
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching reports:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch reports'
            });
        }
    }
    // Create Custom Report Endpoint
    async createCustomReport(req, res) {
        try {
            const reportConfig = req.body;
            // Mock implementation for build compatibility
            const mockReport = {
                id: `report-${Date.now()}`,
                config: reportConfig,
                status: 'created',
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockReport
            });
        }
        catch (error) {
            logger_1.default.error('Error creating custom report:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to create custom report'
            });
        }
    }
    // Real-time Metrics Endpoint
    async getRealTimeMetrics(req, res) {
        try {
            const { facilityId } = req.params;
            // Mock implementation for build compatibility
            const mockData = {
                facilityId,
                realTimeMetrics: {
                    activePatients: 0,
                    waitingPatients: 0,
                    availableProviders: 0
                },
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching real-time metrics:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch real-time metrics'
            });
        }
    }
    // Analytics Alerts Endpoint
    async getAnalyticsAlerts(req, res) {
        try {
            const { facilityId } = req.params;
            // Mock implementation for build compatibility
            const mockData = {
                facilityId,
                alerts: [],
                timestamp: new Date()
            };
            res.json({
                success: true,
                data: mockData
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching analytics alerts:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch analytics alerts'
            });
        }
    }
    // Benchmark Comparisons Endpoint
    async getBenchmarkComparisons(req, res) {
        try {
            const { facilityId } = req.params;
            const { category } = req.query;
            // Mock benchmark data for build compatibility
            const benchmarks = {
                clinical: {
                    diabetesControl: { current: 73.5, benchmark: 75.0, percentile: 45 },
                    hypertensionControl: { current: 68.2, benchmark: 70.0, percentile: 42 },
                    patientSatisfaction: { current: 4.2, benchmark: 4.5, percentile: 38 }
                },
                financial: {
                    collectionRate: { current: 92.5, benchmark: 95.0, percentile: 48 },
                    daysInAR: { current: 45, benchmark: 35, percentile: 25 },
                    denialRate: { current: 8.5, benchmark: 5.0, percentile: 20 }
                },
                operational: {
                    waitTime: { current: 18, benchmark: 15, percentile: 35 },
                    patientThroughput: { current: 85, benchmark: 95, percentile: 40 },
                    staffUtilization: { current: 87.5, benchmark: 85.0, percentile: 65 }
                }
            };
            const result = category ? benchmarks[category] : benchmarks;
            res.json({
                success: true,
                data: result
            });
        }
        catch (error) {
            logger_1.default.error('Error fetching benchmark comparisons:', error);
            res.status(500).json({
                success: false,
                error: 'Failed to fetch benchmark comparisons'
            });
        }
    }
}
exports.AnalyticsController = AnalyticsController;
const analyticsControllerInstance = new AnalyticsController();
exports.default = analyticsControllerInstance;
exports.analyticsController = analyticsControllerInstance;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL3JvZHJpZ28vY2xhdWRlLXByb2plY3RzL09tbmlDYXJlL2JhY2tlbmQvc3JjL2NvbnRyb2xsZXJzL2FuYWx5dGljcy5jb250cm9sbGVyLnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7Ozs7QUFHSCw2REFBcUM7QUFFckM7OztHQUdHO0FBQ0gsTUFBYSxtQkFBbUI7SUFDOUI7UUFDRSxtQ0FBbUM7SUFDckMsQ0FBQztJQUVELHFDQUFxQztJQUNyQywwQkFBMEIsQ0FBQyxHQUFZLEVBQUUsR0FBYTtRQUNwRCxJQUFJLENBQUM7WUFDSCxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztZQUNsQyxNQUFNLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7WUFFekMsOENBQThDO1lBQzlDLE1BQU0sUUFBUSxHQUFHO2dCQUNmLFVBQVU7Z0JBQ1YsUUFBUSxFQUFFLEVBQUU7Z0JBQ1osTUFBTSxFQUFFLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtnQkFDOUIsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFO2FBQ3RCLENBQUM7WUFFRixHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUNQLE9BQU8sRUFBRSxJQUFJO2dCQUNiLElBQUksRUFBRSxRQUFRO2FBQ2YsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUFDLE9BQU8sS0FBYyxFQUFFLENBQUM7WUFDeEIsZ0JBQU0sQ0FBQyxLQUFLLENBQUMsMkNBQTJDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDakUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ25CLE9BQU8sRUFBRSxLQUFLO2dCQUNkLEtBQUssRUFBRSwyQ0FBMkM7YUFDbkQsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7SUFFRCwrQkFBK0I7SUFDL0IsS0FBSyxDQUFDLHFCQUFxQixDQUFDLEdBQVksRUFBRSxHQUFhO1FBQ3JELElBQUksQ0FBQztZQUNI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S0FBSyxDQUFDLENBQUM7WUFDN0QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7Z0JBQ25CLE9BQU8sRUFBRSxLQUFLO2dCQUNkLEtBQUssRUFBRSx1Q0FBdUM7YUFDL0MsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7Q0FDRjtBQW5RRCxrREFtUUM7QUFFRCxNQUFNLDJCQUEyQixHQUFHLElBQUksbUJBQW1CLEVBQUUsQ0FBQztBQUU5RCxrQkFBZSwyQkFBMkIsQ0FBQztBQUM5QixRQUFBLG1CQUFtQixHQUFHLDJCQUEyQixDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9yb2RyaWdvL2NsYXVkZS1wcm9qZWN0cy9PbW5pQ2FyZS9iYWNrZW5kL3NyYy9jb250cm9sbGVycy9hbmFseXRpY3MuY29udHJvbGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFuYWx5dGljcyBDb250cm9sbGVyXG4gKiBcbiAqIEV4cHJlc3MtYmFzZWQgY29udHJvbGxlciBmb3IgYW5hbHl0aWNzIGFuZCByZXBvcnRpbmcgZW5kcG9pbnRzXG4gKi9cblxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcblxuLyoqXG4gKiBBbmFseXRpY3MgQ29udHJvbGxlclxuICogSGFuZGxlcyBhbmFseXRpY3MgYW5kIHJlcG9ydGluZyBlbmRwb2ludHMgZm9yIE9tbmlDYXJlIEVNUlxuICovXG5leHBvcnQgY2xhc3MgQW5hbHl0aWNzQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIEluaXRpYWxpemUgYW55IGRlcGVuZGVuY2llcyBoZXJlXG4gIH1cblxuICAvLyBDbGluaWNhbCBRdWFsaXR5IE1lYXN1cmVzIEVuZHBvaW50XG4gIGdldENsaW5pY2FsUXVhbGl0eU1lYXN1cmVzKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGZhY2lsaXR5SWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgICBjb25zdCB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9ID0gcmVxLnF1ZXJ5O1xuXG4gICAgICAvLyBNb2NrIGltcGxlbWVudGF0aW9uIGZvciBidWlsZCBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCBtb2NrRGF0YSA9IHtcbiAgICAgICAgZmFjaWxpdHlJZCxcbiAgICAgICAgbWVhc3VyZXM6IFtdLFxuICAgICAgICBwZXJpb2Q6IHsgc3RhcnREYXRlLCBlbmREYXRlIH0sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfTtcblxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrRGF0YVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY2xpbmljYWwgcXVhbGl0eSBtZWFzdXJlczonLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBjbGluaWNhbCBxdWFsaXR5IG1lYXN1cmVzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluYW5jaWFsIEFuYWx5dGljcyBFbmRwb2ludFxuICBhc3luYyBnZXRGaW5hbmNpYWxBbmFseXRpY3MocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZmFjaWxpdHlJZCB9ID0gcmVxLnBhcmFtcztcbiAgICAgIGNvbnN0IHsgc3RhcnREYXRlLCBlbmREYXRlIH0gPSByZXEucXVlcnk7XG5cbiAgICAgIC8vIE1vY2sgaW1wbGVtZW50YXRpb24gZm9yIGJ1aWxkIGNvbXBhdGliaWxpdHlcbiAgICAgIGNvbnN0IG1vY2tEYXRhID0ge1xuICAgICAgICBmYWNpbGl0eUlkLFxuICAgICAgICByZXZlbnVlOiAwLFxuICAgICAgICBleHBlbnNlczogMCxcbiAgICAgICAgcGVyaW9kOiB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH07XG5cbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja0RhdGFcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZmluYW5jaWFsIGFuYWx5dGljczonLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBmaW5hbmNpYWwgYW5hbHl0aWNzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gT3BlcmF0aW9uYWwgTWV0cmljcyBFbmRwb2ludFxuICBhc3luYyBnZXRPcGVyYXRpb25hbE1ldHJpY3MocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZmFjaWxpdHlJZCB9ID0gcmVxLnBhcmFtcztcblxuICAgICAgLy8gTW9jayBpbXBsZW1lbnRhdGlvbiBmb3IgYnVpbGQgY29tcGF0aWJpbGl0eVxuICAgICAgY29uc3QgbW9ja0RhdGEgPSB7XG4gICAgICAgIGZhY2lsaXR5SWQsXG4gICAgICAgIHBhdGllbnRGbG93OiB7fSxcbiAgICAgICAgc3RhZmZVdGlsaXphdGlvbjoge30sXG4gICAgICAgIGFwcG9pbnRtZW50czoge30sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgfTtcblxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBtb2NrRGF0YVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBmZXRjaGluZyBvcGVyYXRpb25hbCBtZXRyaWNzOicsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIG9wZXJhdGlvbmFsIG1ldHJpY3MnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBQb3B1bGF0aW9uIEhlYWx0aCBBbmFseXRpY3MgRW5kcG9pbnRcbiAgYXN5bmMgZ2V0UG9wdWxhdGlvbkhlYWx0aEFuYWx5dGljcyhyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmYWNpbGl0eUlkIH0gPSByZXEucGFyYW1zO1xuICAgICAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUgfSA9IHJlcS5xdWVyeTtcblxuICAgICAgLy8gTW9jayBpbXBsZW1lbnRhdGlvbiBmb3IgYnVpbGQgY29tcGF0aWJpbGl0eVxuICAgICAgY29uc3QgbW9ja0RhdGEgPSB7XG4gICAgICAgIGZhY2lsaXR5SWQsXG4gICAgICAgIHBvcHVsYXRpb25NZXRyaWNzOiB7fSxcbiAgICAgICAgcmlza1N0cmF0aWZpY2F0aW9uOiB7fSxcbiAgICAgICAgcGVyaW9kOiB7IHN0YXJ0RGF0ZSwgZW5kRGF0ZSB9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH07XG5cbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja0RhdGFcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcG9wdWxhdGlvbiBoZWFsdGggYW5hbHl0aWNzOicsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHBvcHVsYXRpb24gaGVhbHRoIGFuYWx5dGljcydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlcG9ydHMgRW5kcG9pbnRcbiAgYXN5bmMgZ2V0UmVwb3J0cyhyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmYWNpbGl0eUlkLCB0eXBlLCBzdGF0dXMgfSA9IHJlcS5xdWVyeTtcblxuICAgICAgLy8gTW9jayBpbXBsZW1lbnRhdGlvbiBmb3IgYnVpbGQgY29tcGF0aWJpbGl0eVxuICAgICAgY29uc3QgbW9ja0RhdGEgPSB7XG4gICAgICAgIHJlcG9ydHM6IFtdLFxuICAgICAgICBmaWx0ZXJzOiB7IGZhY2lsaXR5SWQsIHR5cGUsIHN0YXR1cyB9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH07XG5cbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja0RhdGFcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcmVwb3J0czonLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCByZXBvcnRzJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQ3JlYXRlIEN1c3RvbSBSZXBvcnQgRW5kcG9pbnRcbiAgYXN5bmMgY3JlYXRlQ3VzdG9tUmVwb3J0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXBvcnRDb25maWcgPSByZXEuYm9keTtcblxuICAgICAgLy8gTW9jayBpbXBsZW1lbnRhdGlvbiBmb3IgYnVpbGQgY29tcGF0aWJpbGl0eVxuICAgICAgY29uc3QgbW9ja1JlcG9ydCA9IHtcbiAgICAgICAgaWQ6IGByZXBvcnQtJHtEYXRlLm5vdygpfWAsXG4gICAgICAgIGNvbmZpZzogcmVwb3J0Q29uZmlnLFxuICAgICAgICBzdGF0dXM6ICdjcmVhdGVkJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tSZXBvcnRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgY3JlYXRpbmcgY3VzdG9tIHJlcG9ydDonLCBlcnJvcik7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgY3VzdG9tIHJlcG9ydCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlYWwtdGltZSBNZXRyaWNzIEVuZHBvaW50XG4gIGFzeW5jIGdldFJlYWxUaW1lTWV0cmljcyhyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmYWNpbGl0eUlkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgICAvLyBNb2NrIGltcGxlbWVudGF0aW9uIGZvciBidWlsZCBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCBtb2NrRGF0YSA9IHtcbiAgICAgICAgZmFjaWxpdHlJZCxcbiAgICAgICAgcmVhbFRpbWVNZXRyaWNzOiB7XG4gICAgICAgICAgYWN0aXZlUGF0aWVudHM6IDAsXG4gICAgICAgICAgd2FpdGluZ1BhdGllbnRzOiAwLFxuICAgICAgICAgIGF2YWlsYWJsZVByb3ZpZGVyczogMFxuICAgICAgICB9LFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH07XG5cbiAgICAgIHJlcy5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgZGF0YTogbW9ja0RhdGFcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcmVhbC10aW1lIG1ldHJpY3M6JywgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcmVhbC10aW1lIG1ldHJpY3MnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBBbmFseXRpY3MgQWxlcnRzIEVuZHBvaW50XG4gIGFzeW5jIGdldEFuYWx5dGljc0FsZXJ0cyhyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmYWNpbGl0eUlkIH0gPSByZXEucGFyYW1zO1xuXG4gICAgICAvLyBNb2NrIGltcGxlbWVudGF0aW9uIGZvciBidWlsZCBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCBtb2NrRGF0YSA9IHtcbiAgICAgICAgZmFjaWxpdHlJZCxcbiAgICAgICAgYWxlcnRzOiBbXSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuXG4gICAgICByZXMuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIGRhdGE6IG1vY2tEYXRhXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFuYWx5dGljcyBhbGVydHM6JywgZXJyb3IpO1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYW5hbHl0aWNzIGFsZXJ0cydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIEJlbmNobWFyayBDb21wYXJpc29ucyBFbmRwb2ludFxuICBhc3luYyBnZXRCZW5jaG1hcmtDb21wYXJpc29ucyhyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBmYWNpbGl0eUlkIH0gPSByZXEucGFyYW1zO1xuICAgICAgY29uc3QgeyBjYXRlZ29yeSB9ID0gcmVxLnF1ZXJ5O1xuXG4gICAgICAvLyBNb2NrIGJlbmNobWFyayBkYXRhIGZvciBidWlsZCBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCBiZW5jaG1hcmtzID0ge1xuICAgICAgICBjbGluaWNhbDoge1xuICAgICAgICAgIGRpYWJldGVzQ29udHJvbDogeyBjdXJyZW50OiA3My41LCBiZW5jaG1hcms6IDc1LjAsIHBlcmNlbnRpbGU6IDQ1IH0sXG4gICAgICAgICAgaHlwZXJ0ZW5zaW9uQ29udHJvbDogeyBjdXJyZW50OiA2OC4yLCBiZW5jaG1hcms6IDcwLjAsIHBlcmNlbnRpbGU6IDQyIH0sXG4gICAgICAgICAgcGF0aWVudFNhdGlzZmFjdGlvbjogeyBjdXJyZW50OiA0LjIsIGJlbmNobWFyazogNC41LCBwZXJjZW50aWxlOiAzOCB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmFuY2lhbDoge1xuICAgICAgICAgIGNvbGxlY3Rpb25SYXRlOiB7IGN1cnJlbnQ6IDkyLjUsIGJlbmNobWFyazogOTUuMCwgcGVyY2VudGlsZTogNDggfSxcbiAgICAgICAgICBkYXlzSW5BUjogeyBjdXJyZW50OiA0NSwgYmVuY2htYXJrOiAzNSwgcGVyY2VudGlsZTogMjUgfSxcbiAgICAgICAgICBkZW5pYWxSYXRlOiB7IGN1cnJlbnQ6IDguNSwgYmVuY2htYXJrOiA1LjAsIHBlcmNlbnRpbGU6IDIwIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3BlcmF0aW9uYWw6IHtcbiAgICAgICAgICB3YWl0VGltZTogeyBjdXJyZW50OiAxOCwgYmVuY2htYXJrOiAxNSwgcGVyY2VudGlsZTogMzUgfSxcbiAgICAgICAgICBwYXRpZW50VGhyb3VnaHB1dDogeyBjdXJyZW50OiA4NSwgYmVuY2htYXJrOiA5NSwgcGVyY2VudGlsZTogNDAgfSxcbiAgICAgICAgICBzdGFmZlV0aWxpemF0aW9uOiB7IGN1cnJlbnQ6IDg3LjUsIGJlbmNobWFyazogODUuMCwgcGVyY2VudGlsZTogNjUgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBjYXRlZ29yeSA/IGJlbmNobWFya3NbY2F0ZWdvcnkgYXMga2V5b2YgdHlwZW9mIGJlbmNobWFya3NdIDogYmVuY2htYXJrcztcblxuICAgICAgcmVzLmpzb24oe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYmVuY2htYXJrIGNvbXBhcmlzb25zOicsIGVycm9yKTtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGJlbmNobWFyayBjb21wYXJpc29ucydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBhbmFseXRpY3NDb250cm9sbGVySW5zdGFuY2UgPSBuZXcgQW5hbHl0aWNzQ29udHJvbGxlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBhbmFseXRpY3NDb250cm9sbGVySW5zdGFuY2U7XG5leHBvcnQgY29uc3QgYW5hbHl0aWNzQ29udHJvbGxlciA9IGFuYWx5dGljc0NvbnRyb2xsZXJJbnN0YW5jZTsiXSwidmVyc2lvbiI6M30=